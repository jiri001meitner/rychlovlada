<div class="h-opening-hours">
  <h3 class="section-heading">Pracovní doba:</h3>

  <p><time datetime="Mo-Th 08:00-18:00">Pondělí - Čtvrtek: 8:00 - 18:00</time></p>
  <p><time datetime="Fr[week=odd] 08:00-14:00">Pátek v lichém týdnu: 8:00 - 14:00</time></p>
  <p><time datetime="Fr[week=even]">Pátek v sudém týdnu: Zavřeno</time></p>
  <p id="nextFridayHours"></p>
</div>

<script>
// Získáme aktuální datum a den v týdnu
let now = new Date();
let dayOfWeek = now.getDay();

// Pokud je sobota, neděle, nebo pátek po pracovní době (po 18:00), posuneme datum na následující pátek
if (dayOfWeek === 6 || dayOfWeek === 0 || (dayOfWeek === 5 && now.getHours() >= 18)) {
  now.setDate(now.getDate() + (5 + 7 - dayOfWeek) % 7);
} else if (dayOfWeek < 5) {
  now.setDate(now.getDate() + (5 - dayOfWeek));
}

// Určíme, zda je týden sudý nebo lichý podle ISO 8601
let start = new Date(now.getFullYear(), 0, 1);
let weekNumber = Math.ceil((((now - start) / 86400000 + start.getDay() + 1)/7));

// Korekce pro ISO 8601
if(start.getDay() > 4) {
  weekNumber--;
}

let isEvenWeek = weekNumber % 2 === 0;

let fridayHoursText = isEvenWeek ? "Tento pátek (" + now.toLocaleDateString() + "): Zavřeno" : "Tento pátek (" + now.toLocaleDateString() + "): 8:00 - 14:00";
document.getElementById("nextFridayHours").textContent = fridayHoursText;
</script>
